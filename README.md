# Project: GameGarage

### 조건 충족으로 점수를 쌓는 1:1 라운드 기반 전투 게임 (개발 2인)
<img width="752" height="264" alt="스크린샷 2025-08-27 025031" src="https://github.com/user-attachments/assets/26cadf1d-28a4-40df-979a-c0ce2139c04e" />


## 1. 프로젝트 개요
이 프로젝트는 개인 포트폴리오 목적으로 제작된 멀티플레이 대전 게임입니다. 언리얼 엔진의 네트워크 기능을 깊이 있게 학습하고, 안정적인 동기화 시스템을 구축하는 것을 목표로 했습니다.

- **개발 기간:** 2024.11 ~ 2024.03
- **개발 인원:** 1인 개발
- **프로젝트 목표:**
    - 리슨 서버(Listen Server) 환경에서의 실시간 전투 동기화 시스템 구축
    - RPC와 변수 리플리케이션(Replication)의 올바른 이해 및 적용
    - 데이터 기반의 확장 가능한 UI 시스템 설계 및 구현

## 2. 주요 기능
- 서버 권위(Server-Authoritative) 기반의 실시간 콤보 전투 시스템
- Slate UI를 활용한 커스텀 HealthBar 위젯
- DataTable과 연동되는 동적 커스터마이징 UI
- 발행-구독 패턴(Delegate)을 이용한 컴포넌트 간 비참조 데이터 바인딩
- GameInstance와 SaveGame을 활용한 데이터 저장 및 로드

## 3. 기술 스택
- **Engine:** Unreal Engine 5.4
- **Language:** C++
- **Core Systems:** Replication, RPC (Client, Server, Multicast), Slate UI, Delegate

---
## 4. 주요 구현 내용

### 1. 서버 권위 기반의 전투 동기화
- **문제:** 클라이언트가 각자 콤보 판정을 수행할 경우, 네트워크 지연(Lag)으로 인해 클라이언트 간의 판정 결과가 불일치하는 동기화 오류가 발생했습니다.
- **해결:** 모든 콤보 판정 로직을 **서버에서만 수행**하도록 변경했습니다. 서버가 판정을 완료하면, **`Multicast` RPC**를 통해 모든 클라이언트에 애니메이션 재생과 같은 결과만 동기화하도록 구조를 개선했습니다.
- **결과:** 시간 차로 인한 판정 오차 범위를 줄이고, 모든 클라이언트가 일관된 전투 경험을 하도록 동기화 정확도를 높였습니다.

### 2. DataTable 기반의 동적 UI 시스템 설계
- **문제:** 스킨, 이모션 등 커스터마이징 아이템이 추가될 때마다 UI 구조를 수동으로 변경해야 하는 비효율적인 방식이었습니다.
- **해결:** **DataTable**에 UI 항목 데이터를 정의하고, 게임 시작 시 이를 읽어와 **동적으로 버튼 위젯을 생성**하도록 시스템을 구축했습니다. 모든 버튼은 공통 부모 클래스를 상속받아 일관된 스타일과 이벤트 처리를 공유하도록 설계하여 확장성을 확보했습니다.
- **결과:** 기획자가 CSV 파일 수정만으로 UI 항목을 자유롭게 추가/제거할 수 있게 되어, 개발 생산성과 유지보수성을 크게 향상시켰습니다.

### 3. Delegate를 활용한 컴포넌트 결합도 최소화
- **문제:** `UCharacterStatComponent`의 체력 값이 변경될 때마다 `UWidgetComponent`의 HealthBar를 직접 참조하여 업데이트해야 했습니다. 이는 두 컴포넌트 간의 강한 결합(Coupling)을 유발하여 코드 수정 및 확장을 어렵게 만들었습니다.
- **해결:** **델리게이트(Delegate)** 를 활용한 **발행-구독 패턴**을 적용했습니다. StatComponent는 체력이 변경될 때마다 `OnHpChanged` 델리게이트를 호출(발행)하고, WidgetComponent는 이 델리게이트에 자신의 업데이트 함수를 등록(구독)하여, 서로를 직접 참조하지 않고도 데이터 변경을 통지받도록 설계했습니다.
- **결과:** 컴포넌트 간의 의존성을 제거하여, 각 기능을 독립적으로 테스트하고 유지보수할 수 있는 유연한 구조를 만들었습니다.
